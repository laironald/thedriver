{% extends "layout/base.html" %}

{% block page_title %}
  GhostDocs (&gt;("&gt;
{% endblock %}

{% block navbar %}
  <div class="navbar navbar-inverse">
    <div class="container">
      <a href="#" class="navbar-brand tip" data-placement="bottom" title="boo!">GhostDocs (&gt;")&gt;</a>
      <div class="nav-collapse collapse bs-navbar-collapse">
        <ul class="nav navbar-nav pull-right">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Login
            <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="#">Action</a></li>
              <li><a href="#">Another action</a></li>
              <li><a href="#">Something else here</a></li>
              <li class="divider"></li>
              <li><a href="#">Separated link</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>

{% endblock %}

{% block container %}
      <div class="jumbotron">
      <h1>Howdy stranger.</h1>
      <p>
        GhostDocs enables you to add fun, mysterious layers onto Google Docs.</br>
      </p>
      <br />
      <p>
      <p>
        <a class="btn btn-primary btn-lg">Learn more</a>
        <a class="btn btn-default btn-lg" href="/in/ghostie/testing">Dive right in</a>
      </p>
    </div>
    <br/>
    <h5>
      <span class="label label-info">built in 2013 with old fashioned, unadultered love.</span>
      <span class="label label-default">@liwen</span>
      <span class="label label-default">@ron</span>
    </h5>
  </div>
</div>
<div class="row-fluid">
  <div class="col-md-12">
    <hr />
    <a href="https://mixpanel.com/f/partner"><img src="//cdn.mxpnl.com/site_media/images/partner/badge_blue.png" alt="Mobile Analytics" /></a>
  </div>

      <span id="signinButton">
      <span
        class="g-signin"
              data-scope="email https://www.googleapis.com/auth/drive"
              data-clientId="{{ CLIENT_ID }}"
              data-accesstype="offline"
              data-callback="onSignInCallback"
              data-theme="dark"
              data-cookiepolicy="single_host_origin">
      </span>
    </span>

{% endblock %}

{% block footer %}{% endblock %}

{% block specific_javascript %}
	<script type="javascript/text">
	function onSignInCallback(authResult){
  	if (authResult['access_token']) {
      // The user is signed in
      this.authResult = authResult;
      document.getElementById('signinButton').setAttribute('style', 'display: none');
      window.location.replace('/auth?state={{STATE}}&code='+this.authResult.code)
      /*$.ajax({
        type: 'POST',
        url: '/auth?stat={{STATE}}',
        contentType: 'application/octet-stream; charset=utf-8',
        data: this.authResult.code
      });*/

    } else if (authResult['error']) {
      // There was an error, which means the user is not signed in.    
      console.log('There was an error: ' + authResult['error']);
    }
    // google+ script
    (function() {
      var po = document.createElement('script'); 
      po.type = 'text/javascript'; po.async = true;
      po.src = 'https://apis.google.com/js/client:plusone.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(po, s);
    })();
    analytics.track('Loaded welcome page');
  }
	</script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="/js/vendor/jquery-1.10.1.min.js"><\/script>')</script>
  <script src="/js/vendor/bootstrap.min.js"></script>
  <script src="/js/main.js"></script>
{% endblock %}
